var g=1.622;var dt=0.016683;var timer=null;var timerFuel=null;var y=10;var v=0;var c=100;var a=g; var velocidad=null;var altura=null;var combustible=null;var fuelValor=100;var terminado=false;var nAltura=70;window.onload=function(){velocidad=document.getElementById("velocidad");altura=document.getElementById("altura");combustible=document.getElementById("fuel");combustible.innerHTML=fuelValor; document.getElementById("showm").onclick=function (){document.getElementsByClassName("c")[0].style.display="block";stop();}document.getElementById("hidem").onclick=function (){document.getElementsByClassName("c")[0].style.display="none";start();}document.getElementById("reiniciar").onclick=function (){location.reload();}document.getElementById("boton").onclick=function (){if (a==g){motorOn();}else{motorOff();}}document.onkeydown=function(event){if(event.keyCode==32) motorOn();}document.onkeyup=motorOff;start();}function start(){timer=setInterval(function(){moverNave();}, dt*1000);}function stop(){clearInterval(timer);}function moverNave(){actualizarVelocidad();actualizarAltura();v +=a*dt;y +=v*dt; if(y <=5){y++;motorOff();}if (y<70){document.getElementById("nave").style.top=y+"%";}else{document.getElementById("velocidad").innerHTML="";terminado=true;stop();motorOff();if (v>3){lose();}else{win();}}}function motorOn(){if (!fuelValor <=0){document.getElementById("naveIcono").src="img/NaveFuego.gif";a=-g;if (timerFuel==null)timerFuel=setInterval(function(){actualizarFuel();}, 10);}}function motorOff(){document.getElementById("naveIcono").src="img/nave.png";a=g;clearInterval(timerFuel);timerFuel=null;}function actualizarFuel(){c-=0.1;if (c < 0 ) c=0;c=c - 0.1;combustible.innerHTML=Math.round(c);if (c===0){motorOff();}}function win(){document.getElementById("win").style.display="block";motorOff();stop();}function lose(){motorOff();document.getElementById("naveIcono").src="img/nave_rota.png";document.getElementById("lose").style.display="block";stop();}function actualizarAltura(){altura.innerHTML=Math.round(nAltura - y);}function actualizarVelocidad(){var contNumVel=Math.abs(v);v +=a*dt;document.getElementById("velocidad").innerHTML=v.toFixed(2);}function pausa(){stop();document.getElementById("play").style.display="block";document.getElementById("stop").style.display="none";}function empieza(){start();document.getElementById("play").style.display="none";document.getElementById("stop").style.display="block";}
